# 감성분석과 Black Litterman 모델을 활용한 모델 만들기 (Done)
---

## 목차 (Table of Contents)

1. [프로젝트 소개 (Introduction)](#프로젝트-소개-introduction)  
2. [프로젝트 핵심 (Point)](#프로젝트-핵심-point)  
3. [프로젝트 구조 (Project-Structure)](#프로젝트-구조-project-structure)  

---

## 프로젝트 소개 (Introduction)

- **목적**: 감성분석한 결과를 최적화 모델에 직접적으로 사용해보자.  
- **선행 연구의 한계**:  
  - 기존 연구에서는 감성분석 결과를 활용해 투자를 진행할 때 대부분 동일 가중 포트폴리오를 구성한다. 이보다 더 정밀한 방법은 없을까?

- **가설**:  
  - 감성 점수를 활용해 팩터 모델링을 진행하고, 이를 Black Litterman 모델의 투자자 뷰(p-value)에 반영함으로써 높은 설명력을 가진 모델을 구축할 수 있을 것이다.

---

## 프로젝트 핵심 (Point)

### 1. 문장 단위 감성분석
- 기존 감성분석은 **긍/부/중립** 3단계로 분류하는 경우가 많다. 이렇게 단순 분류된 값은 다른 모델에서 활용하기가 쉽지 않고, 문서 내용을 과도하게 압축한다는 문제가 있다.
- 따라서 **문장별로 긍부정을 판단**하고, 각 문서 내에서 긍·부정 비율을 산출함으로써 단순 분류보다 더욱 다양하게 데이터를 활용할 수 있다.

### 2. Black Litterman 모델
- **기존 MV(Mean-Variance) 모델**에서 발전된 Black Litterman 모델은 투자자의 뷰(View)를 반영할 수 있다는 장점이 있다. 하지만 그 뷰를 어떻게 모델링할지가 쉽지 않다.
- **애널리스트 리포트 감성 점수**를 투자자 뷰로 활용하여 빠르고 설명력 높은 최적화 포트폴리오를 구성할 수 있었다.

---

## 프로젝트 구조 (Project-Structure)

### 프로세스 개요

1. **네이버 애널리스트 리포트 크롤링**  
   - 인터넷상의 애널리스트 보고서를 수집하는 단계

2. **텍스트 전처리**  
   - 수집한 데이터를 텍스트 형태로 전처리(HTML 태그 제거, 인코딩 통일 등)

3. **언어모델 감성분석**  
   - 전처리된 텍스트 데이터를 LLM 기반 감성분석 모델에 입력해 긍정·부정 스코어를 산출

4. **Factor Modeling (FF-3 모델 확장)**  
   - 기존 Fama-French 3 Factor 모델에 **감성 점수**를 추가 팩터로 활용

5. **Black Litterman 모델 구축**  
   - Factor 모델의 예측값과 p-value를 기반으로 투자자의 뷰와 불확실성을 반영하여 최적화 포트폴리오를 구성

6. **모델 성과 확인**  
   - 백테스트, Sharpe Ratio, MDD 등 성과지표를 통해 결과 평가  
   ![최종 성능](./images/performance.png)

```mermaid
flowchart LR
    A([네이버 애널리스트 리포트<br>크롤링]) --> B([텍스트 전처리])
    B --> C([언어모델<br>감성분석])
    C --> D([감성 점수 + FF-3 모델<br>Factor Modeling])
    D --> E([Black-Litterman 모델 구축])
    E --> F([성과 평가<br>및 결과 확인])
